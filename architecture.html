<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 11 Mar 2017 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170311" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Fine Grained Service Monitoring System &#x2013; Architecture</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
                      <a href="https://github.com/mil-oss/fgsms">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="http://mil-oss.org/" id="bannerLeft"><img src="images/mil-oss-logo.png"  alt="Fine Grained Service Monitoring System"/></a></div>
        <div class="pull-right"><div id="bannerRight"><img src="images/fgsms_logo_small.png" /></div>
</div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="projectVersion">Version: 7.0.0<span class="divider">|</span></li>
        <li class=""><a href="https://www.mil-oss.org" class="externalLink" title="MIL-OSS">MIL-OSS</a><span class="divider">/</span></li>
    <li class="active ">Architecture</li>
        <li id="publishDate" class="pull-right">Last Published: 11 Mar 2017</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
      <li><a href="index.html" title="Project Information"><span class="none"></span>Project Information</a>  </li>
    <li><a href="index2.html" title="Welcome"><span class="none"></span>Welcome</a>  </li>
    <li><a href="whitepaper.html" title="Whitepaper"><span class="none"></span>Whitepaper</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Architecture</a>
  </li>
    <li><a href="quickstart.html" title="Quick Start"><span class="none"></span>Quick Start</a>  </li>
    <li><a href="deployment-planning.html" title="Deployment Planning"><span class="none"></span>Deployment Planning</a>  </li>
    <li><a href="deployserver.html" title="Deploying the Server"><span class="none"></span>Deploying the Server</a>  </li>
    <li><a href="agentmatrix.html" title="Agent Matrix"><span class="none"></span>Agent Matrix</a>  </li>
    <li><a href="deployagent.html" title="Deploying Agents"><span class="none"></span>Deploying Agents</a>  </li>
    <li><a href="user.html" title="User Guide"><span class="none"></span>User Guide</a>  </li>
    <li><a href="reporting.html" title="Reports and data access"><span class="none"></span>Reports and data access</a>  </li>
    <li><a href="security.html" title="Security Guide"><span class="none"></span>Security Guide</a>  </li>
    <li><a href="permissions.html" title="Access Control"><span class="none"></span>Access Control</a>  </li>
    <li><a href="federation.html" title="Data Federation"><span class="none"></span>Data Federation</a>  </li>
    <li><a href="news.html" title="News"><span class="none"></span>News</a>  </li>
    <li><a href="sdk.html" title="SDK"><span class="none"></span>SDK</a>  </li>
    <li><a href="specs.html" title="Specs/ICD"><span class="none"></span>Specs/ICD</a>  </li>
    <li><a href="committer.html" title="Committers"><span class="none"></span>Committers</a>  </li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
            <li class="nav-header">Modules</li>
    <li><a href="apache-tomcat/index.html" title="Pre-Configured Apache Tomcat"><span class="none"></span>Pre-Configured Apache Tomcat</a>  </li>
    <li><a href="apache-juddi/index.html" title="Pre-Configured Apache Juddi"><span class="none"></span>Pre-Configured Apache Juddi</a>  </li>
    <li><a href="fgsms-common-interfaces/index.html" title="fgsms Interfaces WS Stubs and Schema Bindings Generated from WSDL"><span class="none"></span>fgsms Interfaces WS Stubs and Schema Bindings Generated from WSDL</a>  </li>
    <li><a href="fgsms-common/index.html" title="fgsms Common"><span class="none"></span>fgsms Common</a>  </li>
    <li><a href="fgsms-agents/index.html" title="fgsms Embedded Agents"><span class="none"></span>fgsms Embedded Agents</a>  </li>
    <li><a href="fgsms-ws-notification/index.html" title="fgsms WS-Notification Parent"><span class="none"></span>fgsms WS-Notification Parent</a>  </li>
    <li><a href="fgsms-server/index.html" title="fgsms Server"><span class="none"></span>fgsms Server</a>  </li>
    <li><a href="fgsms-cli/index.html" title="fgsms Command Line Interface"><span class="none"></span>fgsms Command Line Interface</a>  </li>
    <li><a href="fgsms-samples/index.html" title="fgsms Examples Packages"><span class="none"></span>fgsms Examples Packages</a>  </li>
    <li><a href="fgsms-dist/index.html" title="fgsms Distribution"><span class="none"></span>fgsms Distribution</a>  </li>
    <li><a href="fgsms-netagent/index.html" title="fgsms.Net Components"><span class="none"></span>fgsms.Net Components</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
      <input value="https://mil-oss.github.io/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Architecture</h1>
<p>FGSMS is designed to be a scalable solution in order to meet the needs of most organizations that practice SOA methodologies for web service development. This capability is implemented as a SQL Database, a set of web services, a user GUI, and administrative tools. The following figure describes the dependencies of FGSMS and the service/UI interactions. Coincidently, this is also the order for installing and configuring FGSMS. </p>
<p><img src="images/architecture.png" alt="&lsquo;Architecture&rsquo;" /></p>
<div class="section">
<h2><a name="SQL_Database"></a>SQL Database</h2>
<p>At the heart of FGSMS are 3 PostgreSQL databases that need to be accessible from all of the FGSMS web services and scheduled processes. The default database names are fgsms-performance, fgsms-config and fgsms-quartz. A script is included to generate the databases, schemas, and tables. At least one username is required , but multiple users can be used, so long as they have select/update/delete/insert rights to both databases. </p>
<p>Database mirroring/failover is supported by all FGSMS Components.</p></div>
<div class="section">
<h2><a name="FGSMSs_Server"></a>FGSMS&#x2019;s Server</h2>
<p>Currently, FGSMS provides a pre-configured Apache Tomcat web application server. This server is the central location for data collection, storage, processing, alerting, statistics and much more. See <a href="deployserver.md">Setting the server</a> for more information. It can scale, meaning you can have multiple instances pointed at the same database cluster. The UI is separate from the services for more scaling options. The UI and all agents support failover capabilities too.</p>
<div class="section">
<h3><a name="XML_SOAP_Services"></a>XML SOAP Services</h3>
<p>FGSMS is based on a service oriented architecture, the real service stuff, not the diet soda kind. SOAP services (although there are some REST like services too). Access to all information in the FGSMS system is via web services. FGSMS comes with six core web services. </p>
<div class="section">
<h4><a name="Data_Collector_Service_DCS"></a>Data Collector Service (DCS)</h4>
<p>The Data Collector Service (DCS) serves as the primary data collection point for FGSMS. All monitored services issue requests to the DCS via agents which are subsequently stored in the performance database. The DCS is also responsible for perform transactional service level agreement processing and alerting.</p>
<p>Architectural Note: At a minimum, each FGSMS deployment should have at least one DCS. As your operational needs and throughput increases, adding additional DCS&#x2019;s is recommended. All that is need is connectivity to the same database server.</p></div>
<div class="section">
<h4><a name="Policy_Configuration_Service_PCS"></a>Policy Configuration Service (PCS)</h4>
<p>The Policy Configuration Service (PCS) serves as the primary access point for the configuration of monitored services, user permissions, publication information,  and service level agreements. The PCS is also used by agents to obtain the most recent service policy and is used by the Web GUI or administrative tools to change service policies.</p></div>
<div class="section">
<h4><a name="Data_Access_Service_DAS"></a>Data Access Service (DAS)</h4>
<p>The Data Access Service (DAS) serves as the primary data access point for FGSM. It is used extensively by the Web GUI for rendering all charts and graphs.</p>
<p>Architectural Note: The DAS is a requirement for the Web GUI.</p>
<p>Customization Tip: If you wish to build your own GUI, start with this service.</p></div>
<div class="section">
<h4><a name="Status_Service_SS"></a>Status Service (SS)</h4>
<p>The Status Service (SS) serves as an access point getting and setting the current operating status of a service.</p></div>
<div class="section">
<h4><a name="Reporting_Service_RS"></a>Reporting Service (RS)</h4>
<p>The Reporting Service (RS) generates a zipped HTML containing a set of reports for a given set of services over a given period of time. These reports can further be customized via style sheets and html files.</p>
<p>Architectural Note: The Reporting Service is not a requirement for the monitoring  of web services. It is required for the report generator feature of the Web GUI to function. It can also be used outside of the Web GUI.</p></div>
<div class="section">
<h4><a name="Automated_Reporting_Service_ARS"></a>Automated Reporting Service (ARS)</h4>
<p>The Automated Reporting Service (ARS) works hand in hand with the RS and a scheduler to enable users to schedule reports to be automatically generated at specific intervals.</p>
<p>Architectural Note: The ARS is technically an optional feature and isn&#x2019;t required for the basic operation.</p></div></div>
<div class="section">
<h3><a name="Other_stuff_that_runs_on_the_server"></a>Other stuff that runs on the server</h3>
<p>FGSMS needs a few other things to keep it going which are briefly discussed here.</p>
<div class="section">
<h4><a name="Timer_quartz_Based_Services"></a>Timer (quartz) Based Services</h4>
<p>FGSMS has a few functions that are executed on a periodic basis, performing the following functions: Data Pruning, this will remove stale or expired data based on retention policies.</p>

<ul>
  
<li>Federated Data Publishing, FGSMS can publish performance statistics to a pluggable interface (currently just UDDI).</li>
  
<li>Data Pruner, clips the hedges of old data that is past it&#x2019;s expiration date</li>
  
<li>Dependency Scanner - scans the database for service chaining events</li>
  
<li>Report Generator - the work horse of the Automated Reporting Service</li>
  
<li>Bueller - this ping&#x2019;s each service to test and record its operating status.</li>
  
<li>SLA Processor - this calculates non-transactional service level agreement parameters and alerts users based on rule sets.</li>
  
<li>Statistics Aggregator &#x2013; performs various statistics calculations</li>
  
<li>Server Side Agents - certain categories of agents run at the server and periodically  connect to other stuff over the network in order to gather information.</li>
</ul>
<p>It is designed to run with Quartz and should run a variety of different application servers. All configuration settings for these processes are centrally configured in the database.</p></div></div></div>
<div class="section">
<h2><a name="Agents"></a>Agents</h2>
<p>FGSMS collects data through agents. The agent&#x2019;s role is to perform a variety of tasks on behalf of the FGSMS server, usually when running on a different JVM or computer. The most common thing agents do is collect data, usually performance or availability information, and report it back to the  server. FGSMS comes with a wide variety of agents which handle different types of products, components and types of data. Additional agents can be created using the one of the mentioned agents&#x2019; source code. See the FGSMS SDK section for more  information.</p>
<p>Architectural Note: At a minimum, at least one agent should be deployed within your operational environment. Everything that you want to monitor needs to either  have agent deployed within that container, system or deployment or each service would need to implement their own reporting mechanism (see extending FGSMS for details). Agent installation and scope is specific to each technology platform. See installation guide for details.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">

        </div>
        </div>
    </footer>
    </body>
</html>
