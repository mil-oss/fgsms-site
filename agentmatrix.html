<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.7.4 at 24 Feb 2017 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20170224" />
    <meta http-equiv="Content-Language" content="en" />
    <title>Fine Grained Service Monitoring System &#x2013; Agent Matrix</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
                      <a href="https://github.com/mil-oss/fgsms">
      <img style="position: absolute; top: 0; right: 0; border: 0; z-index: 10000;"
        src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"
        alt="Fork me on GitHub">
    </a>
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="http://mil-oss.org/" id="bannerLeft"><img src="images/mil-oss-logo.png"  alt="Fine Grained Service Monitoring System"/></a></div>
        <div class="pull-right"><div id="bannerRight"><img src="images/fgsms_logo_small.png" /></div>
</div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="projectVersion">Version: 7.0.0-SNAPSHOT<span class="divider">|</span></li>
        <li class=""><a href="https://www.mil-oss.org" class="externalLink" title="MIL-OSS">MIL-OSS</a><span class="divider">/</span></li>
    <li class="active ">Agent Matrix</li>
        <li id="publishDate" class="pull-right">Last Published: 24 Feb 2017</li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
      <li><a href="index.html" title="Project Information"><span class="none"></span>Project Information</a>  </li>
    <li><a href="index2.html" title="Welcome"><span class="none"></span>Welcome</a>  </li>
    <li><a href="whitepaper.html" title="Whitepaper"><span class="none"></span>Whitepaper</a>  </li>
    <li><a href="architecture.html" title="Architecture"><span class="none"></span>Architecture</a>  </li>
    <li><a href="quickstart.html" title="Quick Start"><span class="none"></span>Quick Start</a>  </li>
    <li><a href="deployment-planning.html" title="Deployment Planning"><span class="none"></span>Deployment Planning</a>  </li>
    <li><a href="deployserver.html" title="Deploying the Server"><span class="none"></span>Deploying the Server</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Agent Matrix</a>
  </li>
    <li><a href="deployagent.html" title="Deploying Agents"><span class="none"></span>Deploying Agents</a>  </li>
    <li><a href="user.html" title="User Guide"><span class="none"></span>User Guide</a>  </li>
    <li><a href="reporting.html" title="Reports and data access"><span class="none"></span>Reports and data access</a>  </li>
    <li><a href="security.html" title="Security Guide"><span class="none"></span>Security Guide</a>  </li>
    <li><a href="permissions.html" title="Access Control"><span class="none"></span>Access Control</a>  </li>
    <li><a href="federation.html" title="Data Federation"><span class="none"></span>Data Federation</a>  </li>
    <li><a href="news.html" title="News"><span class="none"></span>News</a>  </li>
    <li><a href="sdk.html" title="SDK"><span class="none"></span>SDK</a>  </li>
    <li><a href="specs.html" title="Specs/ICD"><span class="none"></span>Specs/ICD</a>  </li>
    <li><a href="committer.html" title="Committers"><span class="none"></span>Committers</a>  </li>
    <li><a href="faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
            <li class="nav-header">Modules</li>
    <li><a href="../../tomcat/index.html" title="Pre-Configured Apache Tomcat"><span class="none"></span>Pre-Configured Apache Tomcat</a>  </li>
    <li><a href="../../juddi-fgsms/index.html" title="Pre-Configured Apache Juddi"><span class="none"></span>Pre-Configured Apache Juddi</a>  </li>
    <li><a href="fgsms-common-interfaces/index.html" title="fgsms Interfaces WS Stubs and Schema Bindings Generated from WSDL"><span class="none"></span>fgsms Interfaces WS Stubs and Schema Bindings Generated from WSDL</a>  </li>
    <li><a href="fgsms-common/index.html" title="fgsms Common"><span class="none"></span>fgsms Common</a>  </li>
    <li><a href="fgsms-agents/index.html" title="fgsms Embedded Agents"><span class="none"></span>fgsms Embedded Agents</a>  </li>
    <li><a href="fgsms-ws-notification/index.html" title="fgsms WS-Notification Parent"><span class="none"></span>fgsms WS-Notification Parent</a>  </li>
    <li><a href="fgsms-server/index.html" title="fgsms Server"><span class="none"></span>fgsms Server</a>  </li>
    <li><a href="fgsms-cli/index.html" title="fgsms Command Line Interface"><span class="none"></span>fgsms Command Line Interface</a>  </li>
    <li><a href="fgsms-samples/index.html" title="fgsms Examples Packages"><span class="none"></span>fgsms Examples Packages</a>  </li>
    <li><a href="fgsms-dist/index.html" title="fgsms Distribution"><span class="none"></span>fgsms Distribution</a>  </li>
          <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html" title="Project Information"><span class="icon-chevron-right"></span>Project Information</a>  </li>
    <li><a href="project-reports.html" title="Project Reports"><span class="icon-chevron-right"></span>Project Reports</a>  </li>
  </ul>
<form id="search-form" action="https://www.google.com/search" method="get" >
      <input value="https://mil-oss.github.io/" name="sitesearch" type="hidden"/>
  <input class="search-query" name="q" id="query" type="text" />
</form>
<script type="text/javascript">asyncJs( 'https://cse.google.com/brand?form=search-form' )</script>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<h1>Agent Matrix</h1>
<p>This article discusses how FGSMS agents function, particularly how they  collect statistics and availability information and report that data  back to the server.</p>
<div class="section">
<h2><a name="Method_of_Data_Collection"></a>Method of Data Collection</h2>
<p>FGSMS includes a number of different agents that serve different purposes.</p>

<table border="0" class="table table-striped">
  <thead>
    
<tr class="a">
      
<th>Agent </th>
      
<th>Type </th>
      
<th>Runs at </th>
      
<th>Status </th>
      
<th>Metrics </th>
      
<th>Notes</th>
    </tr>
  </thead>
  <tbody>
    
<tr class="b">
      
<td>Generic JAXWS </td>
      
<td>Web Service </td>
      
<td>JAXWS Handler </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>Covers Axis 2.0, SunRI, Metro and CXF</td>
    </tr>
    
<tr class="a">
      
<td>Apache CXF </td>
      
<td>Web Service </td>
      
<td>Interceptor </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>Covers JAXWS and JAXRS with Apache CXF</td>
    </tr>
    
<tr class="b">
      
<td>Jboss ESB </td>
      
<td>Web Service </td>
      
<td>Embedded </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>Implements the proxy method of monitoring</td>
    </tr>
    
<tr class="a">
      
<td>Java Servlets </td>
      
<td>Web Service </td>
      
<td>Embedded </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>v2.5 or newer</td>
    </tr>
    
<tr class="b">
      
<td>.NET WCF and ASP.NET </td>
      
<td>Web Service </td>
      
<td>Embedded or OS wide </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>Covers IIS and self hosted services and clients via .config file. Can be applied globally via Machine.config applies to all</td>
    </tr>
    
<tr class="a">
      
<td>Apache Axis 1.x </td>
      
<td>Web Service </td>
      
<td>Embedded </td>
      
<td>Bueller </td>
      
<td>Sent on demand </td>
      
<td>Covers Apache Axis 1.3-1.4 based services</td>
    </tr>
    
<tr class="b">
      
<td>OS Agent </td>
      
<td>Operating System</td>
      
<td>Standalone Process </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval, Covers processes and system level metrics</td>
    </tr>
    
<tr class="a">
      
<td>HornetQ via JMS </td>
      
<td>Broker </td>
      
<td>FGSMS server </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval</td>
    </tr>
    
<tr class="b">
      
<td>Apache Qpid via JMS </td>
      
<td>Broker </td>
      
<td>FGSMS server </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval</td>
    </tr>
    
<tr class="a">
      
<td>Apache Qpid Python </td>
      
<td>Broker </td>
      
<td>Standalone </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval</td>
    </tr>
    
<tr class="b">
      
<td>Apache ServiceMix via JMS </td>
      
<td>Broker </td>
      
<td>FGSMS server </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval</td>
    </tr>
    
<tr class="a">
      
<td>Bueller </td>
      
<td>Status </td>
      
<td>FGSMS server </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Self reporting, 30 sec interval </td>
      
<td>Attempts an HTTP connection to the web service/server</td>
    </tr>
  </tbody>
</table>
<p>Transmission rates for non-web service agents are centrally configured via the FGSMS user interface. See Global Policies and General Settings in the <a href="user.html">User Guide</a></p></div>
<div class="section">
<h2><a name="What_kind_of_data_is_or_can_be_collected"></a>What kind of data is or can be collected?</h2>
<div class="section">
<h3><a name="Web_Service_Servlets_and_ESB_proxy_type_Agents"></a>Web Service, Servlets, and ESB (proxy type) Agents</h3>

<ul>
  
<li>The identity of the requester
  
<ul>
    
<li>IP address</li>
    
<li>Username</li>
    
<li>PKI Certificate DN</li>
    
<li>XML Xpath query</li>
  </ul></li>
  
<li>Timestamp the request came in</li>
  
<li>Size of the payloads (request and response)*</li>
  
<li>Content of the payloads (request and response)*</li>
  
<li>HTTP headers of the request and response*</li>
  
<li>Message ID (UUID generated)</li>
  
<li>Thread ID (UUID generated), used to track conversations or service chaining events</li>
</ul>
<p>(*) notates that this information isn&#x2019;t always available depending on the framework, agent type, or operating configuration.</p></div>
<div class="section">
<h3><a name="Operating_System_Agent"></a>Operating System Agent</h3>
<p>FGSMS comes with an Operating System Agent that uses the SIGARS API. It provides monitoring on a variety of different platforms. The following data points can be recorded:</p>
<p>OS Wide</p>

<ul>
  
<li>System wide Memory and CPU usage</li>
  
<li>List of running processes</li>
  
<li>Network I/O on selected network cards</li>
  
<li>Disk online/offline status, Disk I/O and free space on selected partitions</li>
  
<li>Online/offline status is provided by automatically via a heartbeat</li>
</ul>
<p>Process specific</p>

<ul>
  
<li>Open File Handles</li>
  
<li>CPU Usage</li>
  
<li>Memory Usage</li>
  
<li>Operating Status</li>
</ul>
<p>The OS Agent covers nearly all Windows and Linux/Unix flavored operating systems (except Android). For processes, FGSMS will aggregate multiple instances of a specific process together. </p></div>
<div class="section">
<h3><a name="Message_Broker_Agents"></a>Message Broker Agents</h3>
<p>Message brokers are generally publish and subscribe servers that collect their own statistics in their own way and generally expose them as either JMX end points or via some kind of command line interface.</p>

<ul>
  
<li>Operating status</li>
  
<li>On a per topic/queue basis
  
<ul>
    
<li>Queue/topic name</li>
    
<li>Messages In/Out/Dropped</li>
    
<li>Bytes In/Out/Dropped</li>
    
<li>Consumer count</li>
    
<li>Queue depth</li>
  </ul></li>
</ul></div>
<div class="section">
<h3><a name="Status_only_agents"></a>Status only agents</h3>
<p>Right now, there&#x2019;s only one status only agent called Bueller. Named after Ferris Bueller&#x2019;s Day Off, Bueller periodically &#x2018;pings&#x2019; each endpoint by essentially calling executing a HTTP GET request to the service URL. FGSMS&#x2019;s Bueller function was originally designed to hit XML SOAP services is to automatically appends a <tt>?wsdl</tt> to the request URL.</p>
<p>Bueller can also support scenarios where authentication is required, including most HTTP authentication types, including NTLM and PKI/X509 certificate authentication.</p></div></div>
<div class="section">
<h2><a name="How_do_agents_communicate_with_FGSMSs_server"></a>How do agents communicate with FGSMS&#x2019;s server?</h2>
<p>Via TCP/HTTP/XML/SOAP messages. Agents only communicate with the Policy and Configuration Service (PCS), the Data Collector Service (DCS), and the Status Service (SS). Authentication can be username/password or PKI authentication.</p></div>
<div class="section">
<h2><a name="Agent_load_balancing_and_offline_support"></a>Agent load balancing and offline support</h2>
<p>Most agents have built in support load balancing/failover for communicating with FGSMS&#x2019;s server and if enabled, they will support dynamic discovery of FGSMS&#x2019;s server endpoints via a variety of mechanisms.</p>
<p>In the event an agent cannot access the FGSMS endpoints, it can be configured to perform a number of actions.  - Keep the content in memory and continue to retrying  - Drop the content  - Store it to disk, when connectivity is reestablished, content on disk  will be enqueued for transmission.</p></div>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">

        </div>
        </div>
    </footer>
    </body>
</html>
